<!-- ALTERNATIVE: Create spline-viewer elements directly -->
<!-- If canvas elements aren't loading, create viewers directly -->

<script>
(function() {
    const CLOUDFLARE_URL = 'https://spline-runtime-pro.pages.dev';

    console.log('[DIRECT SPLINE] Initializing direct viewer creation...');

    // Define scenes to load
    const scenes = [
        { id: 'allmountain-showcase', scene: '1000SKISALLMOUNTAIN', container: '.type-trigger' },
        { id: 'park-showcase', scene: '1000SKISPARK', container: '.type-trigger' },
        { id: 'carve-showcase', scene: '1000SKSCARVE', container: '.type-trigger' },
        { id: 'powder-showcase', scene: '1000SKISPOWDER', container: '.type-trigger' }
    ];

    function createSplineViewers() {
        // Wait for custom element to be defined
        if (!customElements.get('spline-viewer')) {
            console.log('[DIRECT SPLINE] Waiting for spline-viewer element...');
            setTimeout(createSplineViewers, 100);
            return;
        }

        scenes.forEach(config => {
            // Check if viewer already exists
            if (document.getElementById(config.id)) {
                console.log(`[DIRECT SPLINE] ${config.id} already exists`);
                return;
            }

            // Find container
            const containers = document.querySelectorAll(config.container);

            if (containers.length === 0) {
                console.warn(`[DIRECT SPLINE] No containers found for ${config.container}`);

                // Try to create in body as fallback
                const viewer = document.createElement('spline-viewer');
                viewer.setAttribute('id', config.id);
                viewer.setAttribute('url', `${CLOUDFLARE_URL}/scenes/${config.scene}/scene.splinecode`);
                viewer.style.width = '100%';
                viewer.style.height = '600px'; // Default height
                document.body.appendChild(viewer);

                console.log(`[DIRECT SPLINE] Created ${config.id} in body (fallback)`);
            } else {
                // Find the right container (might need to match by data-type or other attribute)
                containers.forEach(container => {
                    // Check if this container should have this specific scene
                    // You might need to adjust this logic based on your HTML structure

                    // Check if container is empty or needs a viewer
                    if (!container.querySelector('spline-viewer') && !container.querySelector('canvas')) {
                        const viewer = document.createElement('spline-viewer');
                        viewer.setAttribute('id', config.id);
                        viewer.setAttribute('url', `${CLOUDFLARE_URL}/scenes/${config.scene}/scene.splinecode`);
                        viewer.style.width = '100%';
                        viewer.style.height = '100%';

                        container.appendChild(viewer);
                        console.log(`[DIRECT SPLINE] Created ${config.id} in container`);
                        return; // Only add to first empty container
                    }
                });
            }
        });

        // Check what we created
        const viewers = document.querySelectorAll('spline-viewer');
        console.log(`[DIRECT SPLINE] âœ… Total viewers on page: ${viewers.length}`);
    }

    // Try different timing strategies
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', createSplineViewers);
    } else {
        setTimeout(createSplineViewers, 100);
    }

    // Also expose for manual testing
    window.createSplineDirectly = function(containerId) {
        const container = document.getElementById(containerId) || document.querySelector(containerId);

        if (!container) {
            console.error('Container not found:', containerId);
            return;
        }

        // Clear container
        container.innerHTML = '';

        // Create viewer
        const viewer = document.createElement('spline-viewer');
        viewer.setAttribute('url', `${CLOUDFLARE_URL}/scenes/1000SKSCARVE/scene.splinecode`);
        viewer.style.width = '100%';
        viewer.style.height = '100%';

        container.appendChild(viewer);
        console.log('Created viewer in:', containerId);

        return viewer;
    };

    console.log('[DIRECT SPLINE] ðŸ’¡ To manually create: window.createSplineDirectly(containerId)');
})();
</script>

<!-- ALSO: Try adding viewers directly in your HTML embed instead of canvas -->
<!-- Replace your embed code with this: -->

<spline-viewer
    id="carve-showcase"
    url="https://spline-runtime-pro.pages.dev/scenes/1000SKSCARVE/scene.splinecode"
    style="width: 100%; height: 100%;">
</spline-viewer>